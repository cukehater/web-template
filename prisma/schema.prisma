// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  userId    String   @unique
  password  String
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  refreshTokens RefreshToken[]
}

model RefreshToken {
  id        String   @id @default(cuid())
  token     String   @unique
  userId    String
  expiresAt DateTime
  createdAt DateTime @default(now())

  user User @relation(fields: [userId], references: [userId], onDelete: Cascade)

  @@index([userId])
}

model Basic {
  id String @id @default("basic")
  companyName String
  representative String
  tel String
  fax String
  email String
  address String
  businessNumber String
  industry String
  logo String
  favicon String
  title String
  description String
  keywords String
  ogTitle String
  ogDescription String
  ogImage String
  googleAnalyticsId String
  naverWebmasterId String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Popup {
  id        String   @id @default(cuid())
  title     String
  imageUrl  String
  width     Int
  height    Int
  x         Int
  y         Int
  zIndex    Int
  isActive  Boolean  @default(true)
  startDate DateTime
  endDate   DateTime
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([updatedAt])
}

model Banner {
  id          String   @id @default(cuid())
  title       String
  description String?
  imageUrl    String
  linkUrl     String?
  order       Int      @default(0)
  isActive    Boolean  @default(true)
  startDate   DateTime
  endDate     DateTime
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([order])
  @@index([isActive])
  @@index([updatedAt])
}

model Gallery {
  id        String   @id @default(cuid())
  title     String
  thumbnail String
  content   String
  isVisible Boolean  @default(true)
  order     Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([order])
  @@index([createdAt])
}

model General {
  id        String   @id @default(cuid())
  title     String
  content   String
  isVisible Boolean  @default(true)
  order     Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([order])
  @@index([createdAt])
}